SHELL = /bin/sh

PACKAGE = RPgSQL

# Autoconf substitutions
PKG_LDFLAGS = @LDFLAGS@
PKG_CPPFLAGS = @PKG_CPPFLAGS@
LIBS = @LIBS@

include $(R_HOME)/etc/Makeconf

# Redefine to eliminate -DHAVE_CONFIG_H and add package cpp flags
ALL_CPPFLAGS = $(R_XTRA_CPPFLAGS) $(CPPFLAGS) $(PKG_CPPFLAGS)

SHLIB = $(PACKAGE).$(SHLIBEXT)
SOURCE = $(PACKAGE).c

$(SHLIB) : $(SOURCE)
	$(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) $(PKG_LDFLAGS) \
		$(SHLIBLDFLAGS) -o $@ $< $(LIBS)

clean :
	rm -f $(SHLIB)

distclean: clean
	rm -f Makefile
